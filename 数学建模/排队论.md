## 排队论

* 排队论用于解决什么问题
  * 对用户而言：响应时间（满意度）
  * 对服务提供者而言：利用率（成本）
* 在保障用户满意度的前提下，最大限度地**控制成本**，充分挖掘系统的潜力



### 形式化

+ 什么时候过去，排队的时间会较短？

  + 达到请求的分布；单位时间平均**到达请求**数量（到达率）：$\lambda$

+ 不排队的话，需要多少时间？

  + 服务时间；单位时间平均完成的服务数量：$\mu$

+ 是否需要排队？

+ （不）包括正在**被服务的人**，我前面一共还有几人？

  + 平均队列长度 $L=\lambda W=到达率 × 平均响应时间$
  + 不包括正在服务的人：$L_q=\lambda W_q=\lambda×(W-\frac{1}{\mu})$，即 $排队长度L_q = 到达率\lambda × 平均等待时间W_q$，而$W_q = W - \cfrac{1}{\mu}$

+ 排到我需要多少时间？

  + 等待时间$W_q$

+ 等我服务结束，又需要多少时间？

  + 响应时间$W$

+ 队伍长度达到什么程度时，我就会放弃本次排队？

  + 服务丢失率$P_B$
  + 队列最大长度

+ 系统有多少个窗口？是否已经高负荷运转？

  + 窗口数量

    > 分数使用 \frac {*分母*}{*分子*} 这样的语法，不过推荐使用 \cfrac 来代替 \frac ，显示公式不会太挤

  + 利用率 $U=\cfrac{平均到达速率}{平均服务速率}=\cfrac{\lambda}{\mu}$

----

### 排队模型的分类

​	记：

* $X$：顾客到达的**时间间隔分布**
* $Y$：**服务时间的分布**
* $Z$：服务台数

则排队模型为：**$X/Y/Z$**

​	常用的记号：

* $M$：负指数分布
* $D$：确定型
* $E_k$：k阶$Erlang$分布
* $GI$：一般相互独立的随机分布
* $G$：一般随机分布

----

### 泊松流与指数分布

![1568168974211](C:/Users/polic/AppData/Roaming/Typora/typora-user-images/1568168974211.png)

---

### M/M/1 原理



---

### 排队论的应用

![1568167944169](C:/Users/polic/AppData/Roaming/Typora/typora-user-images/1568167944169.png)

---

![1568169041972](C:/Users/polic/AppData/Roaming/Typora/typora-user-images/1568169041972.png)